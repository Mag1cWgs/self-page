## 介绍

### 使用 async/await 与的异步实现
- 使用 `async` 和 `await` 关键字的异步实现和同步代码的实现很像
    - 只是异步实现中多了async和await关键字和调用的方法都多了async后缀而已。
    
    > 正是因为他们的实现很像，像我们在写同步代码一样，代码的 coding 思路也是和同步代码一样，这样就避免考虑在 APM 中委托的回调等复杂的问题，以及在 EAP 中考虑各种事件的定义。

- 从代码部分我们可以看出 `async` 和 `await` 的使用确实很简单，我们就如在写同步代码一般，编译器具体做了什么处理？

- 从运行结果可以发现，运行异步方法的线程和GUI线程的ID是一样的，也就是说异步方法的运行在GUI线程上，所以就不用像APM中那样考虑跨线程访问的问题了
    - 因为通过委托的 `BeginInvoke` 方法来进行回调方法时，回调方法是在线程池线程上执行的。

### 常见问题
1. **问题一**
    - 是不是写了 `async` 关键字的方法就代表该方法是异步方法，不会堵塞线程呢？
    - 答: 不是的，对于只标识 `async` 关键字的(指在方法内没有出现 `await` 关键字)的方法,调用线程会把该方法当成同步方法一样执行,所以然而会堵塞GUI线程,只有当 `async` 和 `await` 关键字同时出现，该方法才被转换为异步方法处理。

2. **问题二**
    - “async”关键字会导致调用方法用线程池线程运行吗?

    - 答: 不会
        - 被async关键字标识的方法不会影响方法是同步还是异步运行并完成
        - 而是，它使方法可被分割成多个片段，其中一些片段可能异步运行，这样这个方法可能异步完成。
        - 这些片段界限就出现在方法内部显示使用 `await` 关键字的位置处。
        - 所以，如果在标记了 `async` 的方法中没有显示使用 `await`，那么该方法只有一个片段，并且将以同步方式运行并完成。
        - 在 `await` 关键字出现的前面部分代码和后面部分代码都是同步执行的(即在调用线程上执行的，也就是 GUI 线程，所以不存在跨线程访问控件的问题)
        - `await` 关键处的代码片段是在线程池线程上执行。
    - 总结：  
        使用async和await关键字实现的异步方法，此时的异步方法被分成了多个代码片段去执行的，而不是像之前的异步编程模型(APM)和EAP那样，使用线程池线程去执行一整个方法。
